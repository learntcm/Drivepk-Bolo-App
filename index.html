<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DrivePK AI - Voice</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        :root { --red:#E81F25; --black:#000000; }

        body {
            background:#1a1a1a;
            margin:0;
            font-family:'Segoe UI', sans-serif;
            display:flex;
            justify-content:center;
            height:100vh;
        }

        .app-container {
            width:100%;
            max-width:450px;
            background:white;
            display:flex;
            flex-direction:column;
        }

        header {
            background:var(--black);
            color:white;
            padding:20px;
            font-weight:bold;
            text-align:center;
            border-bottom:4px solid var(--red);
        }

        .hero-box {
            height:35vh;
            background:#222 url('https://images.unsplash.com/photo-1533473359331-0135ef1b58bf?q=80&w=800') center/cover;
        }

        #chat-box {
            flex-grow:1;
            padding:20px;
            overflow-y:auto;
            display:flex;
            flex-direction:column;
            gap:10px;
        }

        .bubble {
            padding:12px 16px;
            border-radius:15px;
            max-width:85%;
            font-size:15px;
            line-height:1.4;
        }

        .ai {
            background:#f0f0f0;
            align-self:flex-start;
            border-left:4px solid var(--red);
        }

        footer {
            padding:20px;
            border-top:1px solid #eee;
        }

        .btn-main {
            background:var(--red);
            color:white;
            border:none;
            width:100%;
            padding:18px;
            border-radius:12px;
            font-weight:bold;
            font-size:18px;
        }

        .btn-main:active {
            transform:scale(0.98);
            background:#c1171c;
        }
    </style>
</head>

<body>

<div class="app-container">
    <header>DRIVEPK EXPERT</header>

    <div class="hero-box"></div>

    <div id="chat-box">
        <div class="bubble ai">
            Click below to start the call with Reshma.
        </div>
    </div>

    <footer>
        <button class="btn-main" id="callBtn">ðŸ“ž CALL RESHMA</button>
    </footer>
</div>

<script>
    const VOICE_ENDPOINT = "https://helpninn.com/voice.php";

    async function speak(text) {
        try {
            const response = await fetch(VOICE_ENDPOINT, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ text })
            });

            const audioBlob = await response.blob();
            const audio = new Audio(URL.createObjectURL(audioBlob));
            audio.play();

        } catch (err) {
            console.error("Voice error:", err);
        }
    }

    document.getElementById("callBtn").onclick = () => {
        const message =
            "Welcome to DrivePK. Main Reshma hoon. Aap gaari khareedna chahte hain ya bechna?";

        const chatBox = document.getElementById("chat-box");
        chatBox.innerHTML += `
            <div class="bubble ai">
                <b>Reshma:</b><br>${message}
            </div>
        `;
        chatBox.scrollTop = chatBox.scrollHeight;

        speak(message);
    };
</script>

</body>
</html>
